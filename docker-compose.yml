services:

  app:
    image: ghcr.io/mckimcreed/pyramid-tools:1.5.0
    # Container name for easy reference
    container_name: pyramid-tools

    # Port mapping: host:container
    ports:
      - "3060:3060"

    # Environment variables
    environment:
      - NODE_ENV=production
      - PORT=3060
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - OPENAI_API_KEY=${OPENAI_API_KEY}

    # Restart policy: restart unless explicitly stopped
    restart: unless-stopped

    # Labels for container management and organization
    labels:
      com.pyramid-tools.description: "Pyramid Tools - A collection of useful web-based tools"
      com.pyramid-tools.version: "1.0"
      com.pyramid-tools.port: "3060"
